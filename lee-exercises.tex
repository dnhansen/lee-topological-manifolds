% Document setup
\documentclass[article, a4paper, 11pt, oneside]{memoir}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[UKenglish]{babel}

% Document info
\newcommand\doctitle{Lee: \emph{Introduction to Topological Manifolds}}
\newcommand\docauthor{Danny Nygård Hansen}

% Formatting and layout
\usepackage[autostyle]{csquotes}
\renewcommand{\mktextelp}{(\textellipsis\unkern)}
\usepackage[final]{microtype}
\usepackage{xcolor}
\frenchspacing
\usepackage{styles/articlepagestyle}
\usepackage{styles/articlesectionstyle}

% Fonts
\usepackage{amssymb}
\usepackage[largesmallcaps,partialup]{kpfonts}
\DeclareSymbolFontAlphabet{\mathrm}{operators} % https://tex.stackexchange.com/questions/40874/kpfonts-siunitx-and-math-alphabets
\linespread{1.06}
% \let\mathfrak\undefined
% \usepackage{eufrak}
\DeclareMathAlphabet\mathfrak{U}{euf}{m}{n}
\SetMathAlphabet\mathfrak{bold}{U}{euf}{b}{n}
% https://tex.stackexchange.com/questions/13815/kpfonts-with-eufrak
\usepackage{inconsolata}

% Hyperlinks
\usepackage{hyperref}
\definecolor{linkcolor}{HTML}{4f4fa3}
\hypersetup{%
	pdftitle=\doctitle,
	pdfauthor=\docauthor,
	colorlinks,
	linkcolor=linkcolor,
	citecolor=linkcolor,
	urlcolor=linkcolor,
	bookmarksnumbered=true
}

% Equation numbering
\numberwithin{equation}{chapter}

% Footnotes
\footmarkstyle{\textsuperscript{#1}\hspace{0.25em}}

% Mathematics
\usepackage{styles/basicmathcommands}
\usepackage{styles/framedtheorems}
\usepackage{styles/topologycommands}
\usepackage{tikz-cd}
\tikzcdset{arrow style=math font} % https://tex.stackexchange.com/questions/300352/equalities-look-broken-with-tikz-cd-and-math-font
\usetikzlibrary{babel}

% Lists
\usepackage{enumitem}
\setenumerate[0]{label=\normalfont(\alph*)}

% Bibliography
\usepackage[backend=biber, style=authoryear, maxcitenames=2, useprefix]{biblatex}
\addbibresource{references.bib}

% Title
\title{\doctitle}
\author{\docauthor}


%% Framed exercise environment

\mdfdefinestyle{swannexercise}{%
    skipabove=0.5em plus 0.4em minus 0.2em,
	skipbelow=0.5em plus 0.4em minus 0.2em,
	leftmargin=-5pt,
	rightmargin=-5pt,
	innerleftmargin=5pt,
	innerrightmargin=5pt,
	innertopmargin=5pt,
	innerbottommargin=4pt,
	linewidth=0pt,
	splittopskip=1.2em minus 0.2em,
	splitbottomskip=0.5em plus 0.2em minus 0.1em,
	backgroundcolor=backgroundcolor,
	frametitlebackgroundcolor=titlecolor,
	frametitlefont={\scshape},
    theoremseparator={},
    % theoremspace={},
	frametitleaboveskip=3pt,
	frametitlebelowskip=2pt
}

\mdtheorem[style=swannexercise]{exerciseframed}{Exercise}

\let\oldexerciseframed\exerciseframed
\renewcommand{\exerciseframed}{%
  \crefalias{theorem}{exerciseframed}%
  \oldexerciseframed}

\usepackage{listofitems}

\settocdepth{subsection}
\renewenvironment{exerciseframed}[1][]{%
    \setsepchar{.}%
    \readlist*\mylist{#1}%
    \def\smalllabel{\mylist[2].\mylist[3]}%
    \refstepcounter{exerciseframed}%
    % \addcontentsline{toc}{subsection}{Exercise \smalllabel}%
    \begin{exerciseframed*}[#1]%
    \label{ex:#1}%
}{%
    \end{exerciseframed*}%
}

% https://tex.stackexchange.com/a/23491/63353
\newcommand{\RNum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}

\newcommand{\exref}[1]{%
    % \setsepchar{.}%
    % \readlist*\mylist{#1}%
    % \ifnum \arabic{chapter}=\mylist[1]
    %     \def\mylabel{\mylist[2].\mylist[3]}%
    % \else
    %     \def\mylabel{\RNum{\mylist[1]}.\mylist[2].\mylist[3]}%
    % \fi
    \hyperref[ex:#1]{Exercise~#1}%
}


\mdtheorem[style=swannexercise]{problemframed}{Problem}

\let\oldproblemframed\problemframed
\renewcommand{\problemframed}{%
  \crefalias{theorem}{problemframed}%
  \oldproblemframed}

\renewenvironment{problemframed}[1][]{%
    \setsepchar{.}%
    \readlist*\mylist{#1}%
    \def\smalllabel{\mylist[2].\mylist[3]}%
    \refstepcounter{problemframed}%
    % \addcontentsline{toc}{subsection}{Exercise \smalllabel}%
    \begin{problemframed*}[#1]%
    \label{prob:#1}%
}{%
    \end{problemframed*}%
}

\newcommand{\probref}[1]{%
    % \setsepchar{.}%
    % \readlist*\mylist{#1}%
    % \ifnum \arabic{chapter}=\mylist[1]
    %     \def\mylabel{\mylist[2].\mylist[3]}%
    % \else
    %     \def\mylabel{\RNum{\mylist[1]}.\mylist[2].\mylist[3]}%
    % \fi
    \hyperref[prob:#1]{Problem~#1}%
}


\theoremstyle{nonumberplain}
\theoremsymbol{\ensuremath{\square}}
\newtheorem{solution}{Solution}

\let\oldsolution\solution
\renewcommand{\solution}{%
  \crefalias{theorem}{solution}%
  \oldsolution}

\newcommand{\solutionlabelfont}[1]{{\normalfont\color{linkcolor}#1}}
\newlist{solutionsec}{enumerate}{1}
\setlist[solutionsec]{leftmargin=0pt, parsep=0pt, listparindent=\parindent, font=\solutionlabelfont, label=(\alph*), labelsep=0pt, labelwidth=20pt, itemindent=20pt, align=left, itemsep=10pt}

\newenvironment{displaytheorem}{%
	\begin{displayquote}\itshape%
}{%
	\end{displayquote}%
}


\newcommand{\calB}{\mathcal{B}}
\newcommand{\calV}{\mathcal{V}}
\newcommand{\calU}{\mathcal{U}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calE}{\mathcal{E}}
\newcommand{\calT}{\mathcal{T}}
\newcommand{\calO}{\mathcal{O}}
\newcommand{\bbF}{\mathbb{F}}

% TODO move to .sty?
\renewcommand{\disunion}{\sqcup}

\let\oldcoprod\coprod
\renewcommand{\coprod}{\sqcup}
\newcommand{\bigcoprod}{\oldcoprod}


\begin{document}

\maketitle

\addtocounter{chapter}{1}
\chapter{Topological Spaces}

\section*{General notes}

\begin{remarkbreak}[Local homeomorphism]
    If $f \colon X \to Y$ is a local homeomorphism, let us (temporarily) say that $X$ is \emph{locally homeomorphic} to $Y$. Notice that this is \emph{not} a symmetric relation. For instance, any discrete space is locally homeomorphic to $Y = \{0\} \union [1,2]$, but $Y$ is clearly not homeomorphic to a discrete space. On the other hand, the relation is clearly transitive and reflexive, so local homeomorphism defines a preorder on the class of topological spaces. I am not aware that this has any significance.
    
    Notice also that if a space is locally homeomorphic to $\reals^n$, then it is locally Euclidean of dimension $n$. The converse is false: For instance, assume towards a contradiction that there is a local homeomorphism $f \colon \sphere^1 \to \reals$. The image $f(\sphere^1)$ is then a compact, hence closed and proper, subset of $\reals$. But by \exref{2.32} $f$ is open, so this is impossible. % TODO ref to Exercise 2.32(b)
\end{remarkbreak}


\section*{Exercises}

\begin{exerciseframed}[2.32]
    \begin{enumerate}
        \item Every homeomorphism is a local homeomorphism.
        \item Every local homeomorphism is continuous and open.
        \item Every bijective local homeomorphism is a homeomorphism.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item This is obvious since the domain is an open neighbourhood of each point, and this is mapped onto the codomain which is also open.

    \item Continuity follows from \exref{5.3} and \probref{5.6}: the definition gives an open cover, \probref{5.6} says that the topology on the domain is coherent with this cover, and \exref{5.3} then yields continuity. To prove openness, let $f \colon X \to Y$ be a local homeomorphism and $V \subseteq X$ an open set. Let $\calU$ be a cover of $V$ of open sets in accordance with the definition of local homeomorphisms. Then $V \intersect U$ is open in $U$ for all $U \in \calU$, and since $f|_U$ is a homeomorphism $f(V \intersect U)$ is also open in $f(U)$, hence in $Y$. Furthermore,
    %
    \begin{equation*}
        f(V)
            = \bigunion_{U \in \calU} f(V \intersect U),
    \end{equation*}
    %
    so $f(V)$ is a union of open sets in $Y$.

    \item This is obvious from (b).
\end{solutionsec}
\end{solution}


\section*{Problems}

\begin{problemframed}[2.6]
    Suppose $X$ and $Y$ are topological spaces, and $f \colon X \to Y$ is any map.
    %
    \begin{enumerate}
        \item $f$ is continuous if and only if $f(\closure{A}) \subseteq \closure{f(A)}$ for all $A \subseteq X$.
        \item $f$ is closed if and only if $f(\closure{A}) \supseteq \closure{f(A)}$ for all $A \subseteq X$.
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item First assume that $f$ is continuous, and let $A \subseteq X$. Then $A \subseteq f\preim(\closure{f(A)})$, which implies that $\closure{A} \subseteq f\preim(\closure{f(A)})$. This is equivalent to the property above.

    Conversely, let $F \subseteq Y$ be closed. Then
    %
    \begin{equation*}
        f \bigl( \closure{f\preim(F)} \bigr)
            \subseteq \overline{f(f\preim(F))}
            \subseteq \closure{F}
            = F,
    \end{equation*}
    %
    implying that $\closure{f\preim(F)} \subseteq f\preim(F)$, so $f\preim(F)$ is closed.

    \item The \enquote{if} implication is obvious, so we prove the converse. Let $F \subseteq X$ be closed. Then
    %
    \begin{equation*}
        f(F)
            = f(\closure{F})
            \supseteq \closure{f(F)},
    \end{equation*}
    %
    which shows that $f(F) = \closure{f(F)}$, so $f(F)$ is closed.
\end{solutionsec}
\end{solution}


\begin{problemframed}[2.11]
    Let $f \colon X \to Y$ be a continuous map between topological spaces, and let $\calB$ be a basis for the topology of $X$. Let $f(\calB)$ denote the collection $\set{f(B)}{B \in \calB}$ of subsets of $Y$. Show that $f(\calB)$ is a basis for the topology of $Y$ if and only if $f$ is surjective and open.
\end{problemframed}

\begin{solution}
    First assume that $f(\calB)$ is a basis for the topology of $Y$. Then $Y$ is a union of sets on the form $f(B)$, and the union of the sets $B$ map onto $Y$, so $f$ is surjective. Next, since images preserve unions, to show that $f$ is open it suffices to show that $f(B)$ is open for all $B \in \calB$. But this is obvious.

    Conversely, assume that $f$ is surjective and open, let $V \subseteq Y$, and let $y \in V$. If $x \in f\preim(y)$ by surjectivity, then there is some $B \in \calB$ with $x \in B \subseteq f\preim(V)$. But then $y \in f(B) \subseteq f(f\preim(V)) \subseteq V$ (in fact we have equality). But then $f(B)$ is open as required.
\end{solution}


\begin{problemframed}[2.19]
    Let $X$ be a topological space and let $\calU$ be an open cover of $X$.
    %
    \begin{enumerate}
        \item Suppose we are given a basis $\calB_U$ for each $U \in \calU$ (when considered as a topological space in its own right). Show that the union of all those bases is a basis for $X$.
        \item Show that if $\calU$ is countable and each $U \in \calU$ is second countable, then $X$ is second countable.
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Let $V \subseteq X$ be open, and let $x \in V$. Then $x$ lies in some $U \in \calU$, and since $U \intersect V$ is open in $U$ there is some $B \in \calB_U$ with $x \in B \subseteq U \intersect V$.

    \item This is obvious since a countable union of countable sets is countable.
\end{solutionsec}
\end{solution}


\begin{problemframed}[2.21]
    Show that every locally Euclidean space is first countable.
\end{problemframed}

\begin{solution}
    Let $M$ be locally Euclidean of dimension $n$. If $p \in M$, then $p$ lies in the domain of a chart $(U,\phi)$. For simplicity we may let $U$ be homeomorphic to $\ball^n$. For $r \in \rationals \intersect (0,1]$ let $B_r$ be the preimage under $\phi$ of the ball $B_r(0) \subseteq \reals^n$. We claim that the $B_r$ constitute a neighbourhood basis at $p$.

    Let $V$ be an open neighbourhood of $p$. By intersecting it with $U$ we may assume that $V \subseteq U$. Then $\phi(V)$ is open in $\ball^n$ and hence contains $B_r(0)$ for some $r \in \rationals \intersect (0,1]$. But then $V$ contains $B_r$.
\end{solution}


\begin{problemframed}[2.23]
    Show that every manifold has a basis of coordinate balls.
\end{problemframed}
%
[TODO: Is being locally Euclidean not enough?]

\begin{solution}
    Let $M$ be an $n$-manifold, and let $U \subseteq M$ be open. If $p \in U$, then $p$ lies in the domain of a chart. By intersecting $U$ with this chart domain we may assume that $U$ is itself the domain of a chart with coordinate map $\phi$. Since $\phi(U) \subseteq \reals^n$ is open it contains an open ball $B$ with $p \in B$. Notice that $\phi$ restricts to a homeomorphism $\phi\preim(B) \to B$, so this preimage is a coordinate ball lying in $U$ and containing $p$.
\end{solution}


\begin{problemframed}[2.25]
    If $M$ is an $n$-dimensional manifold with boundary, then $\interiorop M$ is an open subset of $M$, which is itself an $n$-dimensional manifold without boundary.
\end{problemframed}

\begin{solution}
    It suffices to show that $\interiorop M$ is open in $M$. To this end, let $p \in \interiorop M$, and let $(U,\phi)$ be an interior chart with $p \in U$. If $q \in U$, then $q$ also lies in the domain of an interior chart, namely $(U,\phi)$. Thus $q \in \interiorop M$, so $U \subseteq \interiorop M$.
\end{solution}


\chapter{New Spaces from Old}

\section*{General notes}

\begin{remarkbreak}[Product maps]
    For each $\alpha \in A$ let $X_\alpha$ and $Y_\alpha$ be topological spaces and $f_\alpha \colon X_\alpha \to Y_\alpha$ be continuous maps. These give rise to continuous maps $f_\alpha \circ \pi_{X_\alpha} \colon \bigprod_{\alpha \in A} X_\alpha \to Y_\alpha$, and the universal property of products then induces a map continuous map $f \colon \bigprod_{\alpha \in A} X_\alpha \to \bigprod_{\alpha \in A} Y_\alpha$ such that the diagram
    %
    \begin{equation*}
        \begin{tikzcd}[column sep=small]
            \bigprod\limits_{\alpha \in A} X_\alpha
                \ar[rr, "f"]
                \ar[dr, "\pi_{X_\beta}", swap]
            && \bigprod\limits_{\alpha \in A} Y_\alpha
                \ar[dr, "\pi_{Y_\beta}"] \\
            & X_\beta
                \ar[rr, "f_\beta", swap]
            && Y_\beta
        \end{tikzcd}
    \end{equation*}
    %
    commutes for all $\beta \in A$. We call this map the \emph{product map} of the $f_\alpha$. This is of course a special case of product maps between products in any category with products (of some cardinality).
\end{remarkbreak}


\begin{remarkbreak}[Embeddings]
    We show that for embeddings, the properties of being open, closed, and having a left-inverse are almost independent. In \cref{tab:embeddings} we let $S$ denote the Sierpinski space $\{0,1\}$ with topology $\{\emptyset, \{0\}, \{0,1\}\}$.

    Note that all combinations are possible, except that if $f \colon X \to Y$ is an embedding that is both open and closed, then it has a left-inverse: For $f(X)$ is then both open and closed, hence a union of connected components. A left-inverse can then be constructed by sending $Y \setminus f(X)$ to any point of $X$.
\end{remarkbreak}

\begin{table}
    \newcommand{\x}{$\times$}
    \centering
    \begin{tabular}{cccp{7cm}}
        \toprule
        Open & Closed & Split & Example \\
        \midrule
        & & & $(0,1] \hookrightarrow [0,2]$ \\
        \x & & & $(0,1) \hookrightarrow [0,1]$ \\
        & \x & & $\{0,1\} \hookrightarrow [0,1]$ \\
        \x & \x & & \textsc{n/a} \\
        & & \x & The coproduct map $f \coprod g$ (see below). \\
        \x & & \x & $f \colon \{0\} \hookrightarrow S$ \\
        & \x & \x & $g \colon (0,1] \hookrightarrow (0,2]$ \\
        \x & \x & \x & Any homeomorphism. \\
        \bottomrule
    \end{tabular}
    \captiondelim{} % https://tex.stackexchange.com/questions/103166/table-with-blank-caption-but-table-label
    \caption{}
    \label{tab:embeddings}
\end{table}

\begin{remark}
    We rephrase Proposition~3.56 and its proof. First note that \probref{2.19} (which is used in its proof) implies that a locally Euclidean Lindelöf space is second countable. Next let $X$ be a Lindelöf space (so for instance a second countable space), $Y$ a locally Euclidean space, and let $f \colon X \to Y$ be a continuous surjection. Then $Y$ is also Lindelöf, hence second countable.

    In particular, the hypothesis that $f$ be a quotient map is superfluous.
\end{remark}


\begin{remark}
    We comment on the proof of Proposition~3.67, which shows that a continuous open/closed surjection is a quotient map. Let $q \colon X \to Y$ be such a map, and let $U \subseteq Y$. It suffices to show that if $q\preim(U)$ is open/closed, then so is $U$. But since $q$ is open/closed, so is $q(q\preim(U)) = U$, where the equality follows since $q$ is surjective.

    In other words, there is no need to appeal to Proposition~3.60.
\end{remark}

\newcommand{\congto}{\xrightarrow{\raisebox{-1ex}[0ex][0ex]{$\sim$}}}
% https://tex.stackexchange.com/questions/479322/too-much-vertical-space-above-xrightarrow/479324#479324

\begin{remarkbreak}[Uniqueness of quotient spaces]
    We phrase the proof of Theorem~3.75 in a slightly different way. If $q_1 \colon X \to Y_1$ and $q_2 \colon X \to Y_2$ are quotient maps that make the same identifications, then each map factors uniquely through the other. This yields the diagram
    %
    \begin{equation*}
        \begin{tikzcd}
            & X
                \ar[dl, "q_1", swap]
                \ar[d, "q_2"]
                \ar[dr, "q_1"] \\
            Y_1
                \ar[r, dashed, "\tilde{q}_2", swap]
            & Y_2
                \ar[r, dashed, "\tilde{q}_1", swap]
            & Y_1
        \end{tikzcd}
    \end{equation*}
    %
    Since $q_1$ factors uniquely through itself as the identity, we have $\tilde{q}_1 \circ \tilde{q}_2 = \id_{Y_1}$. By symmetry we also have $\tilde{q}_2 \circ \tilde{q}_1 = \id_{Y_2}$, so $Y_1 \cong Y_2$.

    This in particular yields a sort of \enquote{first isomorphism theorem} for topology. Let $q \colon X \to Y$ be a quotient map, and denote by $\ker q$ the equivalence relation on $X$ given by $x \sim x'$ if and only if $q(x) = q(x')$. The quotient map $p \colon X \to X/{\ker q}$ then trivially makes the same identifications as $q$, so $q$ descends to a homeomorphism $\tilde{q} \colon X/{\ker q} \congto Y$.
    
    Notice that we do require $q$ to be a quotient map: Say that $q$ is only assumed to be a continuous surjection. It then induces a continuous map $\tilde{q} \colon X/{\ker q} \to Y$, and we have the commutative diagram
    %
    \begin{equation*}
        \begin{tikzcd}[column sep=tiny]
            & X
                \ar[dl, "p", swap]
                \ar[dr, "q"] \\
            X/{\ker q}
                \ar[rr, "\tilde{q}", swap]
            && Y
        \end{tikzcd}
    \end{equation*}
    %
    If $\tilde{q}$ is a homeomorphism then $Y$ automatically carries the quotient topology induced by $q$. For a subset $U \subseteq Y$ is open if and only if $\tilde{q}\preim(U)$ is open, which is the case if and only if
    %
    \begin{equation*}
        p\preim(\tilde{q}\preim(U))
            = (\tilde{q} \circ p)\preim(U)
            = q\preim(U)
    \end{equation*}
    %
    is open.
\end{remarkbreak}


\begin{remarkbreak}[Adjunction spaces]
    We elaborate on the proof of Proposition~3.77. In part (a) we show that $q|_X$ is closed by considering a closed set $B \subseteq X$. For $x \in X \disunion Y$ we have $x \in q\preim(q(B))$ if and only if $q(x) \in q(B)$, and this is the case just when $x$ is equivalent to some element of $B$. Since no two distinct points in $X$ are identified, if $x \in X$ then we must have $x \in B$. On the other hand, if $x \in Y$ then $x$ is identified with an element in $B \subseteq X$ just when $f(x) \in B$. It follows that
    %
    \begin{equation*}
        q\preim(q(B)) \intersect X = B 
        \quad \text{and} \quad
        q\preim(q(B)) \intersect Y = f\preim(B).
    \end{equation*}
    %
    The set $f\preim(B)$ is closed in $A$, which is closed in $Y$ (here we use this assumption) so $f\preim(B)$ is closed in $Y$.
\end{remarkbreak}


\section*{Exercises}

\begin{exerciseframed}[3.7]
    Suppose $X$ is a topological space and $U \subseteq S \subseteq X$.
    %
    \begin{enumerate}
        \item Show that the closure of $U$ in $S$ is equal to $\closure{U} \intersect S$, i.e. that
        %
        \begin{equation*}
            \closure[S]{U}
                = \closure{U} \intersect S.
        \end{equation*}

        \item TODO.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item We prove each inclusion. Since $\closure{U}$ is closed in $X$, the set $\closure{U} \intersect S$ is closed in $S$. But then minimality of the closure implies that $\closure[S]{U} \subseteq \closure{U} \intersect S$.

    Conversely, let $F \subseteq S$ be a closed set containing $U$. There is then a set $\hat{F} \subseteq X$ closed in $X$ such that $F = \hat{F} \intersect S$. Then $\closure{U} \subseteq \hat{F}$, so $\closure{U} \intersect S \subseteq \hat{F} \intersect S = F$. Since $F$ was arbitrary, it follows that $\closure{U} \intersect S \subseteq \closure[S]{U}$.

    \item
\end{solutionsec}
\end{solution}


\begin{exerciseframed}[3.32]
    Let $(X_\alpha)_{\alpha \in A}$ be a collection of topological spaces.
    %
    \begin{enumerate}
        \item For any $\beta \in A$ and any $x_\alpha \in X_\alpha$ for $\alpha \neq \beta$, define a map $f \colon X_\beta \to \bigprod_{\alpha \in A} X_\alpha$ by $f(x) = (x_\alpha)_{\alpha \in A}$, where $x_\beta = x$. Then $f$ is a topological embedding.

        \item Each canonical projection $\pi_\beta \colon \bigprod_{\alpha \in A} X_\alpha \to X_\beta$ is an open map.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item Clearly $f$ is continuous since its coordinate functions $\pi_\alpha \circ f$ are all continuous. By \probref{3.13} it suffices to show that $f$ has a continuous left inverse. But the projection $\pi_\beta$ is a left inverse for $f$, and this is continuous.

    \item It suffices to show that $\pi_\beta(U)$ is open for all elements $U$ in a basis for the product topology. Hence assume that $U$ is on the form $\bigprod_{\alpha \in A} U_\alpha$, where $U_\alpha$ is open in $X_\alpha$, and $U_\alpha = X_\alpha$ except for finitely many $\alpha$. But then $\pi_\beta(U) = U_\beta$, which is open.
\end{solutionsec}
\end{solution}

\begin{remark}
    In the notation of \exref{3.32}, if $B \subseteq A$ then we may generalise the exercise as follows: Any $(y_\beta) \in \bigprod_{\beta \in B} X_\beta$ and $(x_\alpha) \in \bigprod_{\alpha \in A} X_\alpha$ induces an embedding $f$ in the obvious way. This is indeed an embedding since the projection $\pi^A_B \colon \bigprod_{\alpha \in A} X_\alpha \to \bigprod_{\beta \in B} X_\beta$ is a left inverse to it.

    Similarly, the projection $\pi^A_B$ is a continuous, open surjection and hence a quotient map by Proposition~3.67. But the obvious projection onto the product
    %
    \begin{equation*}
        \bigprod_{\beta \in B} X_\beta
            \times \bigprod_{\alpha \in A \setminus B} \{x_\alpha\}
    \end{equation*}
    %
    is also a quotient map by the same argument, and it makes the same identifications as $\pi^A_B$, so this space is homeomorphic to $\bigprod_{\beta \in B} X_\beta$ by Theorem~3.75.
\end{remark}


\begin{exerciseframed}[3.43] % TODO: Big coproduct command
    Let $(X_\alpha)_{\alpha \in A}$ be a collection of topological spaces, and let $X = \bigcoprod_{\alpha \in A} X_\alpha$.
    %
    \begin{enumerate}
        \item A subset of $X$ is open/closed if and only if its intersection with each $X_\alpha$ is open/closed.
        
        \item Each canonical injection $\iota_\alpha \colon X_\alpha \to X$ is a topological embedding and an open and closed map.
        
        \item If each $X_\alpha$ is second countable and $A$ is countable, then $X$ is second countable.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item Since the disjoint union topology is a final topology, a subset $B \subseteq X$ is open if and only if $\iota_\alpha\preim(B) = B \intersect X_\alpha$ is open in $X_\alpha$ for all $\alpha \in A$. The claim for closed subsets follows by taking complements.

    \item It suffices to show that $\iota_\alpha$ is both open and closed by Proposition~3.16. Let $U \subseteq X_\alpha$ be open, and notice that
    %
    \begin{equation*}
        \iota_\beta\preim(\iota_\alpha(U))
            = \iota_\alpha(U) \intersect X_\beta
            =
            \begin{cases}
                U, & \beta = \alpha, \\
                \emptyset, & \beta \neq \alpha,
            \end{cases}
    \end{equation*}
    %
    which is open for all $\beta \in A$. Hence $\iota_\alpha(U)$ is open. The same holds if $U$ is closed.

    In fact, if $X_\alpha$ is nonempty, say $x \in X_\alpha$, then $\iota_\alpha$ has a left inverse: For instance the map $q \colon X \to X_\alpha$ that is the identity on $X_\alpha$ (which is both open and closed in $X$) and is constant and equal to $x$ on $X \setminus X_\alpha$.

    \item Let $\calB_\alpha$ be a countable basis for $X_\alpha$. Then it is easy to check that $\bigunion_{\alpha \in A} \iota_\alpha(\calB_\alpha)$ is a countable basis for $X$, since $\iota_\alpha$ is open.
\end{solutionsec}
\end{solution}


\begin{exerciseframed}[3.55]
    Show that every wedge sum of Hausdorff spaces is Hausdorff.
\end{exerciseframed}

\begin{solution}
    Let $\{X_\alpha\}_{\alpha \in A}$ be a collection of Hausdorff spaces, denote the base point of $X_\alpha$ by $p_\alpha$, and let $x$ and $y$ be distinct points in their wedge sum.

    First assume that neither point is the base point, and that $x,y \in X_\alpha$ for some $\alpha \in A$. Picking disjoint open neighbourhoods $U,V \subseteq X_\alpha$ of $x$ and $y$ yields disjoint open neighbourhoods $U \setminus \{p_\alpha\}$ and $V \setminus \{p_\alpha\}$ of $x$ and $y$ in $X_\alpha$. These are clearly also disjoint and open in $\bigvee_{\alpha \in A} X_\alpha$.

    Next assume that neither point is the base point, and that $x \in X_\alpha$ and $y \in X_\beta$ for some $\alpha \neq \beta$. In this case the sets $X_\alpha \setminus \{p_\alpha\}$ and $X_\beta \setminus \{p_\beta\}$ work.

    Finally assume that $x$ is the base point and that $y \in X_\beta$. Let $x \in U$ and $y \in V$ in $X_\beta$. The set
    %
    \begin{equation*}
        U \vee \bigjoin_{\alpha \neq \beta} X_\alpha
    \end{equation*}
    %
    is an open neighbourhood of $x$ disjoint from $V$.
\end{solution}

\begin{exerciseframed}[3.59]
    Let $f \colon X \to Y$ be any map. For a subset $A \subseteq X$, show that the following are equivalent:
    %
    \begin{enumerate}
        \item $A$ is saturated.
        \item $A = f\preim(f(A))$.
        \item $A$ is a union of fibres.
        \item If $x \in A$, then $f(x) = f(x')$ implies that $x' \in A$, for all $x' \in X$.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{proofsec}
    \item[(a) $\Leftrightarrow$ (b)]
    First assume that $A$ is saturated, so that $A = f\preim(B)$ for some $B \subseteq Y$. Then $f(A) \subseteq B$, so $f\preim(f(A)) \subseteq f\preim(B) = A$, and the opposite inclusion always holds. The opposite implication is obvious.

    \item[(a) $\Leftrightarrow$ (c)]
    Simply notice that
    %
    \begin{equation*}
        f\preim(B)
            = f\preim \biggl( \bigunion_{y \in B} \{y\} \biggr)
            = \bigunion_{y \in B} f\preim(y)
    \end{equation*}
    %
    for any $B \subseteq Y$, so $A$ is on the form $f\preim(B)$ if and only if it is a union of fibres.

    \item[(c) $\Leftrightarrow$ (d)]
    First assume that $A$ is a union if fibres, and let $x \in A$. If $f(x) = f(x')$ for some $x' \in X$, then $x$ and $x'$ lie in the same fibre, and this fibre is either contained entirely in $A$ or is disjoint from $A$. Hence $x' \in A$.
    
    Conversely, if $x \in A$ then $f\preim(x) \subseteq A$, since $f(x) = f(x')$ for all $x'$ in this preimage.
\end{proofsec}
\end{solution}


\begin{exerciseframed}[3.61]
    A continuous surjective map $q \colon X \to Y$ is a quotient map if and only if it takes saturated open subsets to open subsets, or saturated closed subsets to closed subsets.
\end{exerciseframed}

\begin{solution}
    First assume that $q$ is a quotient map, and let $U \subseteq X$ be a saturated open subset. Then since $U = q\preim(q(U))$, the set $U$ is open if and only if $q(U)$ is open.

    Conversely, assume that $q$ takes saturated open subsets to open subsets, and let $V \subseteq Y$. We need to show that $V$ is open if and only if $q\preim(V)$ is open. The \enquote{only if} part follows since $q$ is continuous. For the \enquote{if} part, assume that $q\preim(V)$ is open and notice that it is saturated. But then $q(q\preim(V)) = V$ is also open, where the equality follows since $q$ is surjective.

    The case where $q$ takes saturated closed subsets to closed subsets follows similarly (replace \enquote{open} with \enquote{closed} throughout).
\end{solution}


\begin{exerciseframed}[3.63]
    Properties of quotient maps.
    %
    \begin{enumerate}
        \item Any composition of quotient maps is a quotient map.
        \item An injective quotient map is a homeomorphism.
        \item If $q \colon X \to Y$ is a quotient map, a subset $F \subseteq Y$ is closed if and only if $q\preim(F)$ is closed in $X$.
        \item If $q \colon X \to Y$ is a quotient map and $U \subseteq X$ is a saturated open or closed subset, then the restriction $q|_U \colon U \to q(U)$ is a quotient map.
        \item If $\{q_\alpha \colon X_\alpha \to Y_\alpha\}_{\alpha \in A}$ is an indexed family of quotient maps, then the map $q \colon \bigcoprod_{\alpha \in A} X_\alpha \to \bigcoprod_{\alpha \in A} Y_\alpha$ whose restriction to each $X_\alpha$ is equal to $q_\alpha$ is a quotient map.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item This follows from the fact that final topologies compose.

    \item Let $q \colon X \to Y$ be an injective quotient map. Since $q$ is already continuous and surjective, it suffices to show that it is open. For any subset $U \subseteq X$ we have $U = q\preim(q(U))$ since $q$ is injective, so $U$ is open if and only if $q(U)$ is. Hence $q$ is open.
    
    \item This follows easily from the definition of the quotient topology by taking complements.

    \item Assume that $U$ is open (the case where $U$ is closed is similar). By Proposition~3.60 (i.e. \exref{3.61}) it suffices to show that $q|_U$ takes saturated open subsets of $U$ to open subsets, so let $V \subseteq U$ be open and $q|_U$-saturated. But then $V$ is also $q$-saturated: For if $W \subseteq q(U)$, then we have $q|_U\preim(W) = q\preim(W)$ since $U$ is $q$-saturated and is thus a union of fibres. Hence $V$ is open in $X$ (since $U$ is) and $q$-saturated, so $q(V)$ is open in $Y$. But then $q(V)$ is also open in $q(U)$ as desired.

    \item This also follows from the fact that final topologies compose. To be explicit, consider for each $\beta \in A$ the diagram
    %
    \begin{equation*}
        \begin{tikzcd}[column sep=small]
            X_\beta
                \ar[rr, "q_\beta"]
                \ar[dr, "\iota_{X_\beta}", swap]
            && Y_\beta
                \ar[dr, "\iota_{Y_\beta}"] \\
            & \bigcoprod\limits_{\alpha \in A} X_\alpha
                \ar[rr, "q", swap]
            && \bigcoprod\limits_{\alpha \in A} Y_\alpha
        \end{tikzcd}
    \end{equation*}
    %
    Each $Y_\beta$ has the final topology coinduced by $q_\beta$, and $\bigcoprod_{\alpha \in A} Y_\alpha$ has the final topology coinduced by the maps $\iota_{Y_\beta}$. Since final topologies compose, this also has the final topology induced by the maps $\iota_{Y_\beta} \circ q_\beta$. But since the above diagram commutes, this is the same as the final topology coinduced by the maps $q \circ \iota_{X_\beta}$. But since $\bigcoprod_{\alpha \in A} X_\alpha$ itself carries the final topology coinduced by the $\iota_{X_\beta}$, the topology on $\bigcoprod_{\alpha \in A} Y_\alpha$ is the same as the final topology coinduced by the map $q$.
\end{solutionsec}
\end{solution}


\section*{Problems}

\begin{problemframed}[3.1]
    Suppose $M$ is an $n$-dimensional manifold with boundary. Show that $\boundary M$ is an $(n-1)$-manifold (without boundary) when endowed with the subspace topology. (We may assume invariance of the boundary.)
\end{problemframed}

\newcommand{\halfspace}{\mathbb{H}}

\begin{solution}
    Let $p \in \boundary M$. Then $p$ lies in the domain of a boundary chart $(U,\phi)$, and $\phi(p) \in \boundary \halfspace^n$. We claim that $\phi$ maps $U \intersect \boundary M$ into $\boundary \halfspace^n$. If $q \in U \intersect \boundary M$, then $q$ does not lie in $\interiorop M$ (since we are assuming invariance of the boundary). If we had $\phi(q) \in \interiorop \halfspace^n$, then we could restrict the domain of $U$ to a smaller open set $U'$ such that we still had $q \in U'$, and such that $\phi(U')$ was an open subset of $\interiorop\halfspace^n$. (For instance, we could simply remove $\boundary\halfspace^n$ from the codomain and restrict the domain accordingly.) But this is impossible since $q$ is not an interior point, so we must have $\phi(q) \in \boundary\halfspace^n$.

    Hence $\phi$ restricted to $U \intersect \boundary M$ is a chart from $\boundary M$ to $\boundary\halfspace^n \cong \reals^{n-1}$.
\end{solution}


\begin{problemframed}[3.2]
    Suppose $X$ is a topological space and $A \subseteq B \subseteq X$. Show that $A$ is dense in $X$ if and only if $A$ is dense in $B$ and $B$ is dense in $X$.
\end{problemframed}

\begin{solution}
    We need to show that $\closure{A} = X$ if and only if $\closure[B]{A} = B$ (i.e. $\closure{A} \intersect B = B$ by \exref{3.7}) and $\closure{B} = X$. The \enquote{only if} part is obvious, so we prove the other implication. % TODO ref to Exercise 3.7(a)

    To this end, notice that the hypotheses imply that
    %
    \begin{equation*}
        X
            = \closure{B}
            = \overline{ \closure{A} \intersect B }
            \subseteq \closure{\closure{A}} \intersect \closure{B}
            = \closure{A} \intersect X
            = \closure{A}.
    \end{equation*}
    %
    The opposite inclusion is obvious, so $\closure{A} = X$ as desired.
\end{solution}


\begin{problemframed}[3.5]
    Show that a finite product of open maps is open; give a counterexample to show that a finite product of closed maps need not be closed.
\end{problemframed}

\begin{solution}
    Let $f_1 \colon X_1 \to Y_1, \ldots, f_n \colon X_n \to Y_n$ be open maps, and let $f$ be their product. To show that $f$ is open it suffices to show that $f(U)$ for a basic open set $U$, so write $U = U_1 \prod \cdots \prod U_n$ for open sets $U_i \subseteq X_i$. But then
    %
    \begin{equation*}
        f(U)
            = f_1(U_1) \prod \cdots f_n(U_n),
    \end{equation*}
    %
    which is a finite product of open sets, and hence is open as desired.

    TODO: Closed map counterexample.
\end{solution}


\begin{problemframed}[3.13]
    Suppose $X$ and $Y$ are topological spaces and $f \colon X \to Y$ is a continuous map. Prove the following:
    %
    \begin{enumerate}
        \item If $f$ admits a continuous left inverse, it is a topological embedding.
        \item If $f$ admits a continuous right inverse, it is a quotient map.
        \item TODO
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Let $g \colon Y \to X$ be a continuous left inverse of $f$, and define $\tilde{f} \colon X \to f(X)$ by $\tilde{f}(x) = f(x)$. Then $g|_{f(X)}$ is continuous and a left inverse of $\tilde{f}$. But since $\tilde{f}$ is bijective it has a unique (two-sided) inverse, namely $g|_{f(X)}$, and since this is also continuous $\tilde{f}$ is a homeomorphism.

    \item Let $g \colon Y \to X$ be a continuous right inverse of $f$, and let $U \subseteq Y$ be such that $f\preim(U)$ is open. Then
    %
    \begin{equation*}
        g\preim(f\preim(U))
            = (f \circ g)\preim(U)
            = U
    \end{equation*}
    %
    is also open, so $f$ is a quotient map.

    \item
\end{solutionsec}
\end{solution}

\begin{remark}
    I would have liked for split mono- and epimorphisms to be open and closed, but I'm not sure this is the case. Instead, this problem and Proposition~3.69 seem to provide independent criteria under which a continuous map $f$ is an embedding or a quotient map: In either case $f$ must be injective/surjective. But then we further assume either that $f$ splits, or that $f$ is open/closed. In other words, the hypothesis that $f$ splits can be replaced with the weaker hypothesis that $f$ is injective/surjective, but then we must further assume that $f$ is open or closed.
\end{remark}


\begin{problemframed}[3.22]
    Let $G$ be a group acting by homeomorphisms on a topological space $X$, and let $\calO \subseteq X \times X$ be the subset defined by
    %
    \begin{equation*}
        \calO
            = \set{(x_1,x_2)}{\exists g \in G \colon x_1 = gx_2}
            = \set{(x_1,x_2)}{x_1 \sim x_2}.
    \end{equation*}
    %
    It is called the \textbf{orbit relation} because $(x_1,x_2) \in \calO$ if and only if $x_1$ and $x_2$ are in the same orbit.
    %
    \begin{enumerate}
        \item Show that the quotient map $q \colon X \to X/G$ is an open map.
        \item Conclude that $X/G$ is Hausdorff if and only if $\calO$ is closed in $X \times X$.
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Notice that for any $U \subseteq X$ we have
    %
    \begin{equation*}
        q\preim(q(U))
            = \set{x \in X}{\exists g \in G, y \in U \colon x = gy}
            = \bigunion_{\substack{g \in G\\ y \in U}} \{ gy \}
            = \bigunion_{g \in G} gU.
    \end{equation*}
    %
    Hence if $U$ is open, then since $x \mapsto gx$ is a homeomorphism for all $g \in G$, it follows that $q\preim(q(U))$ is open. But then $q(U)$ is open in $X/G$ by the definition of the quotient topology, and so $q$ is open.

    \item This is immediate from Proposition~3.57.
\end{solutionsec}
\end{solution}


\begin{problemframed}[3.24]
    Consider the action of $O(n)$ on $\reals^n$ by matrix multiplication as in Example~3.88(b). Prove that the quotient space is homeomorphic to $[0,\infty)$.
\end{problemframed}

\begin{solution}
    Consider the function $f \colon \reals^n \to [0,\infty)$ given by $f(x) = \norm{x}$, and notice that this makes the same identifications as the quotient map $\reals^n \to \reals^n/O(n)$. We claim that $f$ is open. It suffices to show that the image of an open ball is open (since the open balls form a basis for the topology on $\reals^n$), and since $f = f \circ R$ for any $R \in O(n)$ we may assume that the ball is on the form $B(x,r)$ with $x = (x_1,0,\ldots,0)$ where $x_1 \geq 0$. Clearly $f(B(x,r)) = (x_1 - r, x_1 + r) \intersect [0,\infty)$, which is open. Thus $f$ is a quotient map, and the claim follows by the uniqueness of quotient spaces.
\end{solution}


\chapter{Connectedness and Compactness}

\section*{General notes}

\begin{remarkbreak}[Connectedness of products]
    We prove the following claim:
    %
    \begin{displaytheorem}
        A nonempty product $X = \bigprod_{\alpha \in A} X_\alpha$ is connected iff each factor $X_\alpha$ is connected.
    \end{displaytheorem}
    %
    Call a set on the form $X_\alpha \prod \bigprod_{\beta \in A \setminus \{\alpha\}} \{x_\beta\}$ with $x_\beta \in X_\beta$ a \emph{slice}. Such a set is homeomorphic to $X_\alpha$, hence connected. It follows by induction from Proposition~4.9(d) that finite unions of slices are connected. In particular, finite products of connected spaces are connected.

    Now assume that there is a disconnection $X = U \union V$. Since $U$ and $V$ are open they must contain basic open sets $B$ and $C$, respectively. By the definition of the product topology, $B$ and $C$ are product sets with cofinitely many factors on the form $X_\alpha$. Hence there exist $x \in B$ and $y \in C$ that differ in only finitely many coordinates, say $\alpha_1, \ldots, \alpha_n$.\footnote{Incidentally, this is where the argument breaks down for the box topology. Indeed, e.g. $\reals^\omega$ is disconnected when equipped with the box topology.} Write $X' = X_{\alpha_1} \prod \cdots \prod X_{\alpha_n}$, and notice that $X'$ is connected.

    The projection $X \to X'$ is clearly open, so since it is surjective it has a continuous right-inverse $\rho$. But then $\rho\preim(U) \union \rho\preim(V)$ is a disconnection of $X'$, which is a contradiction.
\end{remarkbreak}


\begin{remarkbreak}[Locally Euclidean implies locally compact]
    Proposition~4.64 shows that every manifold with or without boundary is locally compact. But local compactness follows directly from being locally Euclidean, as we show. Hence at least manifolds without boundary may easily be shown to be locally compact.

    Let $X$ be a locally Euclidean space of dimension $n$, and let $x \in X$. We show that $x$ has a neighbourhood basis of compact sets, so let $U$ be an open neighbourhood of $x$. Maybe by shrinking it we may assume that $U$ is homeomorphic to an open subset $\hat{U} \subseteq \reals^n$, say through a map $\phi \colon U \to \hat{U}$. Then $\phi(x)$ has a compact neighbourhood $K$ contained in $\hat{U}$, so $\phi\preim(K)$ is a compact neighbourhood of $x$ contained in $U$.
\end{remarkbreak}


\begin{remarkbreak}[Perfect normality of manifolds]
    We use a slightly different terminology from Lee, in that we do not assume that a normal space is $T_1$. Furthermore, we call a topological space \emph{perfect} if every closed set is a $G_\delta$-set. A topological space that is both perfect and normal will be called \emph{perfectly normal}, and if it is also Hausdorff it is called a \emph{$T_6$-space}. One can show (e.g. Willard 15C) that a space $X$ is $T_6$ if and only if for every pair of disjoint closed sets $A$ and $B$ in $X$, there is a continuous function $f \colon X \to [0,1]$ such that $A = f\preim(0)$ and $B = f\preim(1)$.
    
    Corollary~4.89 shows that manifolds are $T_6$ using the theory of partitions of unity. Another approach is to show that manifolds are metrisable, since metrisable spaces are easily shown to be $T_6$. (Indeed, one can use the one-point compactification and Urysohn's metrisation theorem to show that every second countable locally compact Hausdorff space is completely metrisable.)
\end{remarkbreak}


\newcommand{\bbU}{\mathbb{U}}
\newcommand{\bbV}{\mathbb{V}}

\begin{remarkbreak}[Compactness vs. paracompactness and normality]
    The usual proof that a compact Hausdorff space is normal can be rephrased in a way to make it more reminiscent of the proof (Theorem~4.81) that a paracompact Hausdorff space is regular.

    Let $X$ be a compact Hausdorff space, $A$ a closed subset and $q \in X \setminus A$. For every $p \in A$ there exist, by the Hausdorff assumption, disjoint open neighbourhoods $U_p$ and $V_p$ of $p$ and $q$ respectively. Each $p \in A$ thus has a neighbourhood $U_p$ such that $q \not\in \closure{U}_p$.
    
    The sets $U_p$ is an open cover of $A$, so by compactness of $X$ we obtain a finite subcover $\calU$. Letting $\bbU = \bigunion_{U \in \calU} U$ and $\bbV = X \setminus \closure{\bbU}$ we then have two disjoint open sets, and by finiteness of $\calU$ we have $\closure{\bbU} = \bigunion_{U \in \calU} \closure{U}$, so $\bbV$ contains $q$.

    Notice that the proof goes through if we only assume that $\calU$ is a locally finite refinement of the initial cover, instead of a finite subcover, and this yields the proof in the paracompact case.
\end{remarkbreak}


\section*{Exercises}


\section*{Problems}

\begin{problemframed}[4.7]
    Let $q \colon X \to Y$ be an open quotient map. Show that if $X$ is locally connected, locally path-connected, or locally compact, then $Y$ has the same property.
\end{problemframed}
%
Note that an open continuous surjection is a quotient map.

\begin{solution}
    The first two properties follow from Problem~2.11 [TODO link]. Assume that $X$ is locally compact, and let $y \in Y$. Then there is some $x \in X$ with $f(x) = y$ by surjectivity, and there is an open set $U$ and a compact set $K$ with $x \in U \subseteq K$. It follows that $y \in f(U) \subseteq f(K)$. Since $f$ is open $f(U)$ is open, and $f(K)$ is compact. Thus $f(K)$ is a compact neighbourhood of $y$.
\end{solution}


\begin{problemframed}[4.8]
    Show that a locally connected topological space is homeomorphic to the disjoint union of its components.
\end{problemframed}
%
For a counterexample when the space is not locally connected, consider $\rationals$ with the subspace topology from $\reals$.

\begin{solution}
    We prove the following lemma:
    %
    \begin{displaytheorem}
        Let $X$ be a topological space, and let $\{X_\alpha\}_{\alpha \in A}$ be a partition of $X$ into open sets. Then $X$ is homeomorphic to $\bigcoprod_{\alpha \in A} X_\alpha$.
    \end{displaytheorem}
    %
    Let $\iota_\alpha \colon X_\alpha \to X$ and $\kappa_\alpha \colon X_\alpha \to \bigcoprod_{\alpha \in A} X_\alpha$ denote the canonical injections. The maps $\iota_\alpha$ induce a continuous map $f \colon \bigcoprod_{\alpha \in A} X_\alpha \to X$ making the diagram
    %
    \begin{equation*}
        \begin{tikzcd}
            X_\alpha
                \ar[d, "\kappa_\alpha", swap]
                \ar[dr, "\iota_\alpha"] \\
            \bigcoprod\limits_{\alpha \in A} X_\alpha
                \ar[r, "f", swap]
            & X
        \end{tikzcd}
    \end{equation*}
    %
    commute. Clearly $f$ is bijective, so it suffices to show that it is open. Notice that since each $X_\alpha$ is open in $X$, the maps $\iota_\alpha$ are also open. Now let $U \subseteq \bigcoprod_{\alpha \in A} X_\alpha$ be open, and notice that
    %
    \begin{equation*}
        f(U \intersect X_\alpha)
            = \iota_\alpha(\kappa_\alpha\preim(U)),
    \end{equation*}
    %
    which is open in $X$ since $\kappa_\alpha$ is continuous and $\iota_\alpha$ is open. Finally notice that
    %
    \begin{equation*}
        f(U)
            = f \biggl( U \intersect \bigunion_{\alpha \in A} X_\alpha \biggr)
            = f \biggl( \bigunion_{\alpha \in A} (U \intersect X_\alpha) \biggr)
            = \bigunion_{\alpha \in A} f(U \intersect X_\alpha),
    \end{equation*}
    %
    so $f(U)$ is a union of open sets, hence is itself open as desired.

    To solve the exercise, simply recall from Proposition~4.25(b) that components are open in a locally connected space. The lemma also implies that we may take the disjoint union of \emph{unions} of components instead of the components themselves.
\end{solution}


\begin{problemframed}[4.11]
    Let $X$ be a topological space, and let $CX$ be the cone on $X$.
    %
    \begin{enumerate}
        \item Show that $CX$ is path-connected.
        \item TODO
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Let $(x,s) \in X \times I$ and consider the map $f \colon I \to X \times I$ given by $f(t) = (x, ts)$, which is a path from $(x,0)$ to $(x,s)$. This yields a continuous function $\tilde{f} \colon I \to CX$ which is a path from $X \times \{0\}$ to $[(x,s)]$. Hence every point in $CX$ can be joined by a path to $X \times \{0\}$, so it is path-connected.
\end{solutionsec}
\end{solution}


\chapter{Cell Complexes}

\section*{General notes}

\begin{remarkbreak}[Coherent topologies]
    \label{rem:coherent-topologies}
    Let $(X,\calT)$ be a topological space, and let $\calB$ be a collection of subspaces of $X$ whose union is $X$. We claim that $\calT$ is coherent with $\calB$ if and only if $\calT$ is the final topology coinduced by the inclusion maps $\iota_B \colon B \to X$ for all $B \in \calB$. For this topology has the property that a set $U \subseteq X$ is open if and only if $\iota_B\preim(U) = U \intersect B$ is open in $B$ for all $B \in \calB$.

    This is precisely \probref{5.5}.
\end{remarkbreak}


\begin{remark}
    We comment on Proposition~5.4, the claim that Hausdorff spaces equipped with a locally finite cell depomposition is a CW complex.

    Let $\calE$ be the cell decomposition in question, and let $\closure{\calE} = \set{\closure{e}}{e \in \calE}$. Then $\closure{\calE}$ is a locally finite closed cover of $X$, so \probref{5.6} shows that the topology of $X$ is coherent with $\closure{\calE}$. % TODO ref to Problem 5.6(b)
\end{remark}


\section*{Exercises}

\begin{exerciseframed}[5.3]
    Suppose $X$ is a topological space whose topology is coherent with a family $\calB$ of subspaces.
    %
    \begin{enumerate}
        \item If $Y$ is another topological space, then a map $f \colon X \to Y$ is continuous if and only if $f|_B$ is continuous for every $B \in \calB$.
        \item The map $q \colon \bigcoprod_{B\in\calB} B \to X$ induced by the inclusion of each set $B \hookrightarrow X$ is a quotient map.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item Let $V \subseteq Y$. Then $f\preim(V)$ is open if and only if $(f|_B)\preim(V) = f\preim(V) \intersect B$ is open in $B$ for all $B \in \calB$. But this precisely expresses that each $f|_B$ is continuous, so the claim follows.

    Alternatively, since $f|_B = \iota_B \circ f$, this precisely expresses the universal property of the final topology induced by the inclusion maps $\iota_B$, so this follows from \cref{rem:coherent-topologies}.

    \item Notice that $q\preim(U) = U \intersect B$ for all $U \subseteq X$. Since the topology on $X$ is coherent with $\calB$, the set $U$ is open if and only if $U \intersect B$ is open for all $B \in \calB$. But this precisely expresses that $q$ is a quotient map.

    Alternatively, this follows since $X$ has the final topology induced by the inclusion maps, but the disjoint union $\bigcoprod_{B\in\calB} B$ also has a final topology, and final topologies compose.
\end{solutionsec}
\end{solution}


\section*{Problems}

\begin{problemframed}[5.5]
    Suppose $X$ is a topological space and $\{X_\alpha\}$ is a family of subspaces whose union in $X$. Show that the topology of $X$ is coherent with the subspaces $\{X_\alpha\}$ if and only if it is the finest topology on $X$ for which all of the inclusion maps $i_\alpha \colon X_\alpha \hookrightarrow X$ are continuous.
\end{problemframed}

\begin{solution}
    This follows immediately from the fact that $i_\alpha\preim(U) = U \intersect X_\alpha$ for all $U \subseteq X$.
\end{solution}


\begin{problemframed}[5.6]
    Suppose $X$ is a topological space. Show that the topology of $X$ is coherent with each of the following collections of subspaces of $X$:
    %
    \begin{enumerate}
        \item Any open cover of $X$.
        \item Any locally finite closed cover of $X$.
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Let $\calV$ be an open cover of $X$. If $U \subseteq X$ is open $U \intersect V$ is open for all $V \in \calV$ (as Lee also remarks, this implication always holds). Conversely, if $U \intersect V$ is open in $V$ for all $V \in \calV$, then since each $V$ is open in $X$, $U \intersect V$ is also open in $X$. Furthermore, because $\calV$ is a cover of $X$ we have
    %
    \begin{equation*}
        U
            = U \intersect \bigunion_{V \in \calV} V
            = \bigunion_{V \in \calV} (U \intersect V),
    \end{equation*}
    %
    so $U$ is a union of open set, hence itself open.

    \item We first prove the following lemma:
    %
    \begin{displaytheorem}
        Let $\calF$ be a locally finite collection of closed sets in a topological space $X$. Then the union $\bbF = \bigunion_{F \in \calF} F$ is closed in $X$.
    \end{displaytheorem}
    %
    Let $x \in \bbF^c$. Then since $\calF$ is locally finite, $x$ has an open neighbourhood $U$ that intersects finitely many elements from $\calF$, say $F_1, \ldots, F_n$. Let $U' = U \setminus (F_1 \union \cdots \union F_n)$. Then $U'$ is an open neighbourhood of $x$ disjoint from $\bbF$, so $\bbF^c$ is open.
    
    We now solve the exercise. Let $\calF$ be a locally finite closed over of $X$, and let $C \subseteq X$ be such that $C \intersect F$ is closed in $F$ for all $F \in \calF$. Then
    %
    \begin{equation*}
        C
            = C \intersect \bigunion_{F \in \calF} F
            = \bigunion_{F \in \calF} (C \intersect F).
    \end{equation*}
    %
    The collection $\set{C \intersect F}{F \in \calF}$ is clearly also locally finite, so since each $C \intersect F$ is closed in $X$, the lemma shows that the above union is also closed in $X$.
\end{solutionsec}
\end{solution}



\addtocounter{chapter}{1}

\chapter{Homotopy and the Fundamental Group}

\section*{General notes}

\begin{remarkbreak}[Composition of relative homotopies]
    \label{rem:relative-homotopy-composition}
    Let $f_0,f_1 \colon X \to Y$ and $g_0,g_1 \colon Y \to Z$, let $A \subseteq X$ and $B \subseteq Y$. Assume that $F \colon f_0 \simeq f_1$ rel $A$, $G \colon g_0 \simeq g_1$ rel $B$, and $f_0(A) \subseteq B$. Then $g_0 \circ f_0 \simeq g_1 \circ f_1$ rel $A$.

    Define $H \colon X \prod I \to Z$ by $H(x,t) = G(F(x,t),t)$. Then it is easy to see that $H$ is a homotopy from $g_0 \circ f_0$ to $g_1 \circ f_1$. Furthermore, for $x \in A$ and $t \in I$ we have
    %
    \begin{equation*}
        H(x,t)
            = G(F(x,t),t)
            = G(f_0(x),t)
            = g_0(f_0(x)),
    \end{equation*}
    %
    since $f_0(x) \in B$ and $g_0 \simeq g_1$ rel $B$.
\end{remarkbreak}


\begin{remarkbreak}[Reparametrisation]
    In Lemma~7.9 we prove that a path $f \colon I \to X$ and any reparametrisation $f \circ \phi$ are path-homotopic, where $\phi \colon I \to I$ is a continuous map fixing $0$ and $1$. We may easily write down a concrete homotopy between $f$ and $f \circ \phi$, but notice that this also follows from \cref{rem:relative-homotopy-composition}:

    Notice that since $I$ is convex and $\phi$ and $\id_I$ agree on $\{0,1\}$, [TODO ref] Exercise~7.6 implies that $\phi \simeq \id_I$ rel $\{0,1\}$. Since trivially $f \simeq f$ rel $I$, \cref{rem:relative-homotopy-composition} then implies that $f \circ \phi \simeq f \circ \id_I = f$ rel $\{0,1\}$.
\end{remarkbreak}


\begin{remarkbreak}[Circle representatives]
    We rephrase the implication (c) $\implies$ (a) of Proposition~7.16. Assume that $\tilde{f} \colon \sphere^1 \to X$ extends to a continuous map $F \colon \clball^2 \to X$. Since $\clball^2$ is convex the constant path $c_1$ and the path $\iota_{\sphere^1} \circ \omega$ are homotopic rel $\{0,1\}$ by [TODO ref] Exercise~7.6. \Cref{rem:relative-homotopy-composition} then implies that $F \circ c_1 = c_p$ and $F \circ \iota_{\sphere^1} \circ \omega = f$ are homotopic rel $\{0,1\}$, i.e. path-homotopic.
\end{remarkbreak}


\section*{Exercises}

\begin{exerciseframed}[7.6]
    Let $B \subseteq \reals^n$ be any convex set, $X$ be any topological space, and $A$ be any subset of $X$. Show that any two continuous maps $f,g \colon X \to B$ that agree on $A$ are homotopic relative to $A$.
\end{exerciseframed}

\begin{solution}
    Consider the straight-line homotopy $H \colon X \prod I \to B$ given by $H(x,t) = (1-t)f(x) + t g(x)$. For $a \in A$ we have $H(a,t) = f(a) = g(a)$, so $H$ is stationary on $A$ as required.
\end{solution}


\begin{exerciseframed}[7.14]
    Let $X$ be a topological space.
    %
    \begin{enumerate}
        \item Let $f,g \colon I \to X$ be two paths from $p$ to $q$. Show that $f \sim g$ if and only if $f \cdot \overline{g} \sim c_p$.
        \item Assume that $X$ is path-connected. Show that $X$ is simply connected if and only if any two paths in $X$ with the same initial and terminal points are path-homotopic.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item First assume that $f \sim g$. Then
    %
    \begin{equation*}
        f \cdot \overline{g}
            \sim g \cdot \overline{g}
            \sim c_p.
    \end{equation*}
    %
    Conversely, if $f \cdot \overline{g} \sim c_p$ then
    %
    \begin{equation*}
        f
            \sim f \cdot c_q
            \sim f \cdot \overline{g} \cdot g
            \sim c_p \cdot g
            \sim g,
    \end{equation*}
    %
    as desired.

    \item First assume that $X$ is simply connected, i.e. that every loop is null-homotopic. If $f$ and $g$ are such paths, then $f \cdot \overline{g}$ is a loop and hence null-homotopic. By (a), this implies that $f \sim g$. Conversely, if $h$ is a loop at $p \in X$, then $h$ and $c_p$ are paths with the same initial and terminal points, and are hence path-homotopic.
\end{solutionsec}
\end{solution}


\begin{exerciseframed}[7.15]
    Show that every convex subset of $\reals^n$ is simply connected. Conclude that $\reals^n$ itself is simply connected.
\end{exerciseframed}
%
This of course immediately generalises to convex subsets of any topological vector space.

\begin{solution}
    Any pair of paths in a convex set with the same initial and terminal points are path-homotopic through the straight-line homotopy. The claim then follows from [TODO ref] Exercise~7.14.
\end{solution}


\begin{exerciseframed}[7.23]
    The path homotopy relation is preserved by composition with continuous maps. That is, if $f_0,f_1 \colon I \to X$ are path-homotopic and $\phi \colon X \to Y$ is continuous, then $\phi \circ f_0$ and $\phi \circ f_1$ are path-homotopic.
\end{exerciseframed}

\begin{solution}
    Two maps $I \to X$ are path-homotopic just when they are homotopic relative to $\{0,1\}$. But $\phi \simeq \phi$ rel $X$ and $f_0(\{0,1\}) \subseteq X$ (trivially), so \cref{rem:relative-homotopy-composition} implies that $\phi \circ f_0 \simeq \phi \circ f_1$ rel $\{0,1\}$ as required.
\end{solution}


\begin{exerciseframed}[7.36]
    Homotopy equivalence is an equivalence relation on the class of all topological spaces.
\end{exerciseframed}

\begin{solution}
    Homotopy equivalence is obviously reflexive and symmetric. Assume that $\phi \colon X \to Y$ and $\psi \colon Y \to Z$ are homotopy equivalences with homotopy inverses $\overline{\phi}$ and $\overline{\psi}$ respectively. Then notice that
    %
    \begin{equation*}
        (\overline{\phi} \circ \overline{\psi}) \circ (\psi \circ \phi)
            = \overline{\phi} \circ (\overline{\psi} \circ \psi) \circ \phi
            \simeq \overline{\phi} \circ \id_Y \circ \phi
            = \overline{\phi} \circ \phi
            = \id_X,
    \end{equation*}
    %
    and similarly in the other order. Thus $\overline{\phi} \circ \overline{\psi}$ is a homotopy inverse for $\psi \circ \phi$, and $X \simeq Z$.
\end{solution}


\begin{exerciseframed}[7.42]
    Show that the following are equivalent:
    %
    \begin{enumerate}
        \item $X$ is contractible.
        \item $X$ is homotopy equivalent to a one-point space.
        \item Each point of $X$ is a deformation retract of $X$.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
    Notice that if $r \colon X \to \{*\}$ is a map into a one-point space, then the right homotopy inverses of $r$ are on the form $\iota_p(*) = p$ any $p \in X$, and that any such right homotopy inverse is in fact a set-theoretic right-inverse, i.e. $r \circ \iota_p = \id_{\{*\}}$. Thus if $X \to \{*\}$ is a homotopy equivalence, we may assume that it is on the form $r$ with right-inverse $\iota_p$. In fact, we may assume that $* = p$. It thus follows that $X$ is homotopy equivalent to a one-point space just when there is a point $p \in X$ such that $\iota_p \circ r \simeq \id_X$.
    
    Now let $p \in X$ and define maps $r_p \colon X \to \{p\}$ and $c_p \colon X \to X$ by $r_p(x) = p$ and $c_p = \iota_{\{p\}} \circ r_p$. Notice that $X$ is contractible just when there is a $p \in X$ such that $\id_X \simeq c_p$. But by definition of $c_p$, this is the case just when there is a $p \in X$ such that $\iota_p \circ r_p \simeq \id_X$, i.e. when $X$ is homotopy equivalent to a point. Thus (a) and (b) are equivalent.

    Clearly (c) implies (b), since a deformation retract is a homotopy equivalence. Conversely, the above shows that for any point $p \in X$ we have $r_p \circ \iota_p = \id_{\{p\}}$ and $\iota_p \circ r_p \simeq \id_X$, which says that $\{p\}$ is a deformation retract of $X$.
\end{solution}


\section*{Problems}

\begin{problemframed}[7.1]
    Suppose $f,g \colon \sphere^n \to \sphere^n$ are continuous maps such that $f(x) \neq -g(x)$ for any $x \in \sphere^n$. Prove that $f$ and $g$ are homotopic.
\end{problemframed}

\begin{solution}
    Define $H \colon \sphere^n \prod I \to \sphere^n$ by
    %
    \begin{equation*}
        H(x,t)
            = \frac{(1-t)f(x) + t g(x)}{\norm{(1-t)f(x) + t g(x)}}.
    \end{equation*}
    %
    This is well-defined since the denominator is always nonzero, for if the line segment connecting $f(x)$ and $g(x)$ went through the origin, then we would have $f(x) = -g(x)$.
\end{solution}


\begin{problemframed}[7.2]
    Suppose $X$ is a topological space, and $g$ is any path in $X$ from $p$ to $q$. Let $\Phi_g \colon \pi_1(X,p) \to \pi_1(X,q)$ denote the group isomorphism defined in Theorem~7.13.
    %
    \begin{enumerate}
        \item Show that if $h$ is another path in $X$ starting at $q$, then $\Phi_{g \cdot h} = \Phi_h \circ \Phi_g$.
        \item Suppose $\psi \colon X \to Y$ is continuous, and show that the following diagram commutes:
        %
        \begin{equation*}
            \begin{tikzcd}
                \pi_1(X,p)
                    \ar[r, "\psi_*"]
                    \ar[d, "\Phi_g", swap]
                & \pi_1(Y,\psi(p))
                    \ar[d, "\Phi_{\psi \circ g}"] \\
                \pi_1(X,q)
                    \ar[r, "\psi_*"]
                & \pi_1(Y,\psi(q))
            \end{tikzcd}
        \end{equation*}
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Since $\overline{g \cdot h} = \overline{h} \cdot \overline{g}$, we have
    %
    \begin{equation*}
        \Phi_{g \cdot h}[f]
            = [\overline{g \cdot h}] \cdot [f] \cdot [g \cdot h]
            = [\overline{h}] \cdot [\overline{g}] \cdot [f] \cdot [g] \cdot [h]
            = [\overline{h}] \cdot \Phi_g[f] \cdot [h]
            = \Phi_h \circ \Phi_g[f],
    \end{equation*}
    %
    as desired.

    \item Notice that $\overline{\psi \circ g} = \psi \circ \overline{g}$. Then
    %
    \begin{align*}
        \Phi_{\psi \circ g} \circ \psi_*[f]
            &= \Phi_{\psi \circ g} [\psi \circ f]
             = [\overline{\psi \circ g}] \cdot [\psi \circ f] \cdot [\psi \circ g] \\
            &= [\psi \circ (\overline{g} \cdot f \cdot g)]
             = \psi_*[\overline{g} \cdot f \cdot g]
             = \psi_* \circ \Phi_g [f].
    \end{align*}
\end{solutionsec}
\end{solution}


\begin{problemframed}[7.3]
    Let $X$ be a path-connected topological space, and let $p,q \in X$. Show that all paths from $p$ to $q$ give the same isomorphism of $\pi_1(X,p)$ with $\pi_1(X,q)$ if and only if $\pi_1(X,p)$ is abelian.
\end{problemframed}

\begin{solution}
    First assume that $\pi_1(X,p)$ is abelian, and let $g$ and $h$ be paths from $p$ to $q$. For $[f] \in \pi_1(X,p)$ notice that $[g] \cdot [\overline{h}]$ is a loop at $p$ so it commutes with $[f]$. Hence we have
    %
    \begin{align*}
        \Phi_g [f]
            &= [\overline{g}] \cdot [f] \cdot [g]
             = [\overline{g}] \cdot [f] \cdot [g] \cdot [\overline{h}] \cdot [h] \\
            &= [\overline{g}] \cdot [g] \cdot [\overline{h}] \cdot [f] \cdot [h]
             = [\overline{h}] \cdot [f] \cdot [h]
             = \Phi_h [f],
    \end{align*}
    %
    as desired.

    Conversely assume that all paths from $p$ to $q$ induce the same isomorphism, and let $[f],[f'] \in \pi_1(X,p)$. If $g$ is any path from $p$ to $q$ we in particular have $\Phi_g = \Phi_{f \cdot g}$, so
    %
    \begin{equation*}
        [\overline{g}] \cdot [f'] \cdot [g]
            = \Phi_g [f']
            = \Phi_{f \cdot g} [f']
            = [\overline{g}] \cdot [\overline{f}] \cdot [f'] \cdot [f] \cdot [g].
    \end{equation*}
    %
    Cancelling then implies that $[f'] = [\overline{f}] \cdot [f'] \cdot [f]$, so $[f]$ and $[f']$ commute.
\end{solution}


\begin{problemframed}[7.4]
    Prove the square lemma (Lemma~7.17).
\end{problemframed}

\begin{solution}
    Let $i_f \colon I \to I \prod I$ be the path $i_f(s) = (s,0)$. In the notation of Lemma~7.17 we thus have $f = F \circ i_f$, and similarly for the other three paths. Since $I \prod I$ is simply-connected (since it is convex) we have $i_f \cdot i_g \sim i_h \cdot i_k$. It follows that
    %
    \begin{equation*}
        f \cdot g
            = (F \circ i_f) \cdot (F \circ i_g)
            = F \circ (i_f \cdot i_g)
            \sim F \circ (i_h \cdot i_k)
            = (F \circ i_h) \cdot (F \circ i_k)
            = h \cdot k,
    \end{equation*}
    %
    where we have used Proposition~7.22 (i.e. \cref{rem:relative-homotopy-composition}) and the definition of products of paths (cf. the proof of Proposition~7.24).
\end{solution}


\begin{problemframed}[7.5]
    Let $G$ be a topological group.
    %
    \begin{enumerate}
        \item Prove that up to isomorphism, $\pi_1(G,g)$ is independent of the choice of the base point $g \in G$.
        \item Prove that $\pi_1(G,g)$ is abelian.
    \end{enumerate}
\end{problemframed}

\begin{solution}
\begin{solutionsec}
    \item Let $g,g' \in G$, and consider the left-multiplication $\lambda_{g'g\inv}$ that sends $g$ to $g'$. This is a homeomorphism, so it induces a homeomorphism $(\lambda_{g'g\inv})_*$ between $\pi_1(G,g)$ and $\pi_1(G,g')$. (Indeed, we only need $G$ to be homogeneous for this argument to go through.)

    \item Let $f,f' \in \Omega(G,1)$ and consider the map $F \colon I \prod I \to G$ given by $F(s,t) = f(s)f'(t)$. The square lemma then implies that
    %
    \begin{equation*}
        f \cdot f'
            = F(\,\cdot\,, 0) \cdot F(1, \,\cdot\,)
            \sim F(0, \,\cdot\,) \cdot F(\,\cdot\,, 1)
            = f' \cdot f,
    \end{equation*}
    %
    which implies that $[f] \cdot [f'] = [f'] \cdot [f]$ as desired.
\end{solutionsec}
\end{solution}


\begin{problemframed}[7.7]
    Suppose $(M_1,d_1)$ and $(M_1,d_2)$ are metric spaces. A map $f \colon M_1 \to M_2$ is said to be \textbf{uniformly continuous} if for every $\epsilon > 0$, there exists $\delta > 0$ such that for all $x,y \in M_1$, $d_1(x,y) < \delta$ implies $d_2(f(x),f(y)) < \epsilon$. Use the Lebesgue number lemma to show that if $M_1$ is compact, then every continuous map $f \colon M_1 \to M_2$ is uniformly continuous.
\end{problemframed}

\begin{solution}
    For each $z \in M_2$ consider the ball $B_{d_2}(z,\epsilon/2)$, and let $\calU$ be the collection of all preimages $f\preim(B_{d_2}(z,\epsilon/2))$. By continuity, this is an open cover of $M_1$, so it has a Lebesgue number $\delta > 0$. If for $x,y \in M_1$ we have $d_1(x,y) < \delta$, then the set $\{x,y\}$ has diameter less than $\delta$, so there is some $U \in \calU$ with $\{x,y\} \subseteq U$. Thus $f(x)$ and $f(y)$ lie in some $\epsilon/2$-ball, say $B_{d_2}(z,\epsilon/2)$. It follows that
    %
    \begin{equation*}
        d_2(f(x),f(y))
            \leq d_2(f(x),z) + d_2(f(y),z)
            < \frac{\epsilon}{2} + \frac{\epsilon}{2}
            = \epsilon,
    \end{equation*}
    %
    as desired.
\end{solution}


\begin{problemframed}[7.8]
    Prove that a retract of a Hausdorff space is a closed subset.
\end{problemframed}

\begin{solution}
    Let $X$ be a Hausdorff space, and let $r \colon X \to A$ be a retraction onto a subspace $A$. Notice that $A$ consists of precisely those points $x \in X$ such that $\iota_A \circ r(x) = x$, or in other words, $x \in A$ just when $(\iota_A \circ r(x), x)$ lies in the diagonal $\Delta$ of $X$. That is, $A$ is the preimage of $\Delta$ under $(\iota_A \circ r) \prod \id_X$. But $\Delta$ is closed in $X \prod X$ by [TODO ref] Problem~3.6, so this preimage is closed.
\end{solution}


\addtocounter{chapter}{3}
\chapter{Covering Maps}

\section*{General notes}

\section*{Exercises}

\begin{exerciseframed}[11.2]
    \begin{enumerate}
        \item Every covering map is a local homeomorphism, an open map, and a quotient map.
        \item An injective covering map is a homeomorphism.
        \item A finite product of covering maps is a covering map.
        \item The restriction of a covering map to a saturated, connected, open subset is a covering map onto its image.
    \end{enumerate}
\end{exerciseframed}

\begin{solution}
\begin{solutionsec}
    \item Let $q \colon E \to X$ be a covering map, and let $e \in E$. Then $q(e)$ has an evenly covered neighbourhood $U$, so $q\preim(U)$ is an open neighbourhood of $e$ such that $q|_{q\preim(U)} \colon q\preim(U) \to U$ is a homeomorphism. Hence $q$ is a local homeomorphism.

    By Proposition~2.31 $q$ is thus also open. Since it is surjctive, Proposition~3.67 then implies that $q$ is a quotient map.

    \item If $q$ is injective it is bijective, so Proposition~2.31 implies that $q$ is a homeomorphism.
    
    \item Let $q_i \colon E_i \to X_i$ be a covering map for $i \in \{1, \ldots, n\}$, let $E = E_1 \prod \cdots \prod E_n$, $X = X_1 \prod \cdots \prod X_n$, and $q = q_1 \prod \cdots \prod q_n$. Then $q$ is a continuous surjection, and $E$ is connected and locally path-connected. It suffices to show that every point in $X$ has an evenly covered neighbourhood.
    
    Let $x = (x_1, \ldots, x_n) \in X$, and let $U_i \subseteq X_i$ be an evenly covered neighbourhood of $x_i$. Then $q_i\preim(U_i)$ is a disjoint union of sets $\tilde{U}_{i \alpha} \subseteq E_i$ with $\tilde{U}_{i \alpha} \cong U_i$. The set $U = U_1 \prod \cdots \prod U_n$ is open since it is a finite product, and
    %
    \begin{equation*}
        q\preim(U)
            = q_1\preim(U_1) \prod \cdots \prod q_n\preim(U_n),
    \end{equation*}
    %
    which is a disjoint union of sets on the form $\tilde{U}_{1 \alpha_1} \prod \cdots \prod \tilde{U}_{n \alpha_n}$, and these sets are homeomorphic to $U$.

    \item Let $\tilde{V} \subseteq E$ be a saturated, connected open set. It is then also locally path-connected and can be written on the form $q\preim(V)$ for a subset $V \subseteq X$. Let $x \in V$ and let $U \subseteq X$ be an evenly covered neighbourhood of $x$. We claim that $U \intersect V$ is evenly covered by $q|_{\tilde{V}}$. If $\tilde{U}$ is a sheet of the covering over $U$, then $q$ restricts to a homeomorphism $\tilde{U} \to U$. Hence it also restricts to a homeomorphism $\tilde{U} \intersect \tilde{V} = \tilde{U} \intersect q\preim(V) \to U \intersect V$. Furthermore, the sets on the form $\tilde{U} \intersect \tilde{V}$ are disjoint and open in $\tilde{V}$, proving the claim. [TODO: Where do we use that $\tilde{V}$ is open??]
\end{solutionsec}
\end{solution}


\section*{Problems}

\begin{problemframed}[11.2]
    Prove that for any $n \geq 1$, the map $q \colon \sphere^n \to \projspace^n$ that sends each point $x$ in the sphere to the line through the origin and $x$, thought of as a point in $\projspace^n$, is a covering map.
\end{problemframed}

\begin{solution}
    Let $\sim$ be the equivalence class on $\sphere^n$ identifying antipodal points. We have then seen that $\projspace^n \cong \sphere^n/\{sim\}$, where we identify a line through the origin with its intersection with $\sphere^n$. Thus an element in $\projspace^n$ can be considered a pair of points $\{x,-x\}$ with $x \in \sphere^n$.

    Now consider sets $U = B(x,1) \intersect \sphere^n$ and $V = (-x,1) \intersect \sphere^n$. These are clearly disjoint with $q(U) = q(V)$, and since $q$ is open the common image of $U$ and $V$ is open in $\projspace^n$. But $q$ restricted to each of $U$ or $V$ is injective, hence a homeomorphism. Thus the set $q(U) = q(V)$ is an evenly covered neighbourhood of $\{x,-x\}$ in $\projspace^n$, and so $q$ is a (2-sheeted) covering map.
\end{solution}


\end{document}